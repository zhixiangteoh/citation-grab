{"version":3,"sources":["static/logo512.png","components/Accordion.js","api/serp.js","components/Search.js","components/List.js","components/Menu.js","components/App.js","index.js"],"names":["module","exports","Accordion","props","useState","selectedSearch","setSelectedSearch","citations","setCitations","inputRef","useRef","copyToClipboard","event","a","navigator","clipboard","writeText","current","value","window","clipboardData","setData","onTitleClick","getCitations","response","renderedCitations","map","citation","key","title","className","tabIndex","onClick","ref","snippet","readOnly","style","maxWidth","renderedSearches","searches","search","active","result_id","Fragment","href","link","target","type","publication_info","summary","authors","author","name","axios","create","baseURL","KEY","Search","state","onFormSubmit","preventDefault","setState","serp","get","params","engine","q","hl","api_key","sch_response","data","organic_results","cit_response","this","Event","formRef","onSubmit","placeholder","onChange","e","renderResults","React","Component","List","appLogo","require","Menu","to","width","height","paddingBottom","src","alt","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"4IAAAA,EAAOC,QAAU,IAA0B,qC,0JCiG5BC,EA/FG,SAACC,GAAW,IAAD,EACiBC,mBAAS,IAD1B,mBACpBC,EADoB,KACJC,EADI,OAEOF,mBAAS,MAFhB,mBAEpBG,EAFoB,KAETC,EAFS,KAIrBC,EAAWC,iBAAO,MAElBC,EAAe,uCAAG,WAAOC,GAAP,SAAAC,EAAA,sEACCC,UAAUC,UAAUC,UACzCP,EAASQ,QAAQC,OAFG,eAIPC,OAAOC,cAAcC,QAAQ,OAAQZ,EAASQ,QAAQC,OAJ/C,2CAAH,sDAOfI,EAAY,uCAAG,WAAOjB,GAAP,eAAAQ,EAAA,6DACnBP,EAAkBD,GAElBG,EAAa,MAHM,SAIIL,EAAMoB,aAAalB,GAJvB,OAIbmB,EAJa,OAKnBhB,EAAagB,GALM,2CAAH,sDAQZC,EAAoBlB,EACxBA,EAAUmB,KAAI,SAACC,GACb,OACE,yBAAKC,IAAKD,EAASE,MAAOC,UAAU,QAClC,yBAAKA,UAAU,yBACb,yBACEA,UAAU,8BACVC,SAAS,IACTC,QAASrB,GAET,yBAAKmB,UAAU,kBAAf,QACA,yBAAKA,UAAU,mBACb,uBAAGA,UAAU,iBAKnB,yBAAKA,UAAU,WACb,yBAAKA,UAAU,UAAUH,EAASE,QAEpC,0BAAMC,UAAU,WACd,2BACEG,IAAKxB,EACLS,MAAOS,EAASO,QAChBC,UAAQ,EACRC,MAAO,CAAEC,SAAU,cAO7B,0CAGIC,EAAmBnC,EAAMoC,SAASb,KAAI,SAACc,GAC3C,IAAMC,EAASD,EAAOE,YAAcrC,EAAiB,SAAW,GAEhE,OACE,kBAAC,IAAMsC,SAAP,CAAgBf,IAAKY,EAAOE,WAC1B,yBACEZ,UAAS,gBAAWW,GACpBT,QAAS,kBAAMV,EAAakB,EAAOE,aAEnC,uBAAGZ,UAAU,kBACb,4BAAKU,EAAOX,OACZ,2BACE,uBAAGe,KAAMJ,EAAOK,KAAMC,OAAO,SAC1BN,EAAON,WAId,yBAAKJ,UAAS,kBAAaW,IACzB,yCACA,yBAAKX,UAAU,kCACZL,GAEH,6BACA,oCAAUe,EAAOO,MACjB,gDAAsBP,EAAOQ,iBAAiBC,SAC9C,wCACa,IACVT,EAAOQ,iBAAiBE,QACrBV,EAAOQ,iBAAiBE,QAAQxB,KAAI,SAACyB,GAAD,OAAYA,EAAOC,QACvD,WAOd,OAAO,yBAAKtB,UAAU,6BAA6BQ,I,QC5FtCe,E,OAAAA,EAAMC,OAAO,CAC1BC,QAAS,6DCELC,EAAM,mEAgFGC,E,4MA7EbC,MAAQ,CACNxC,MAAO,eACPqB,SAAU,I,EAOZoB,a,uCAAe,WAAO/C,GAAP,eAAAC,EAAA,6DACbD,EAAMgD,iBAEN,EAAKC,SAAS,CAAEtB,SAAU,OAHb,SAKcuB,EAAKC,IAAI,UAAW,CAC7CC,OAAQ,CACNC,OAAQ,iBACRC,EAAG,EAAKR,MAAMxC,MACdiD,GAAI,KACJC,QAASZ,KAVA,OAKPa,EALO,OAcb,EAAKR,SAAS,CAAEtB,SAAU8B,EAAaC,KAAKC,kBAd/B,2C,wDAiBfhD,a,uCAAe,WAAOL,GAAP,eAAAL,EAAA,sEACciD,EAAKC,IAAI,UAAW,CAC7CC,OAAQ,CACNC,OAAQ,sBACRC,EAAGhD,EACHiD,GAAI,KACJC,QAASZ,KANA,cACPgB,EADO,yBAUNA,EAAaF,KAAK/D,WAVZ,2C,wHApBbkE,KAAKd,aAAa,IAAIe,MAAM,a,sCAkC5B,OAAKD,KAAKf,MAAMnB,SAGd,kBAAC,EAAD,CACEA,SAAUkC,KAAKf,MAAMnB,SACrBhB,aAAckD,KAAKlD,eALU,4C,+BAUzB,IAAD,OACP,OACE,6BACE,0BACEU,IAAKwC,KAAKE,QACV7C,UAAU,UACV8C,SAAUH,KAAKd,cAEf,yBAAK7B,UAAU,SACb,mDACA,yBAAKA,UAAU,iBACb,2BACEiB,KAAK,OACL7B,MAAOuD,KAAKf,MAAMxC,MAClB2D,YAAY,kCACZC,SAAU,SAACC,GAAD,OAAO,EAAKlB,SAAS,CAAE3C,MAAO6D,EAAEjC,OAAO5B,WAEnD,uBAAGY,UAAU,mBAIlB2C,KAAKO,qB,GAxEOC,IAAMC,WCgBZC,E,uKAnBX,OACE,yBAAKrD,UAAU,mBACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,UAAf,YADF,cAKF,yBAAKA,UAAU,QACb,yBAAKA,UAAU,WACb,yBAAKA,UAAU,UAAf,YADF,mB,GAXSmD,IAAMC,WCCnBE,EAAUC,EAAQ,IA4BTC,EA1BF,WACX,OACE,kBAAC,IAAM3C,SAAP,KAME,yBAAKb,UAAU,0DACb,kBAAC,IAAD,CAAMyD,GAAG,kBAAkBzD,UAAU,QACnC,yBACEM,MAAO,CAAEoD,MAAO,OAAQC,OAAQ,OAAQC,cAAe,QACvDC,IAAKP,EACLQ,IAAI,aAJR,UAQA,kBAAC,IAAD,CAAML,GAAG,sBAAsBzD,UAAU,QACvC,uBAAGA,UAAU,cADf,WCFO+D,E,uKAZX,OACE,yBAAK/D,UAAU,gBACb,kBAAC,IAAD,KACE,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOgE,KAAK,kBAAkBC,OAAK,EAACC,UAAWvC,IAC/C,kBAAC,IAAD,CAAOqC,KAAK,sBAAsBC,OAAK,EAACC,UAAWb,U,GAP3CF,IAAMC,WCDxBe,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,Y","file":"static/js/main.ae2578f0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo512.e9fd17e6.png\";","import React, { useRef, useState } from \"react\";\n\nconst Accordion = (props) => {\n  const [selectedSearch, setSelectedSearch] = useState(\"\");\n  const [citations, setCitations] = useState(null);\n\n  const inputRef = useRef(null);\n\n  const copyToClipboard = async (event) => {\n    const response = await navigator.clipboard.writeText(\n      inputRef.current.value\n    );\n    if (!response) window.clipboardData.setData(\"Text\", inputRef.current.value);\n  };\n\n  const onTitleClick = async (selectedSearch) => {\n    setSelectedSearch(selectedSearch);\n\n    setCitations(null);\n    const response = await props.getCitations(selectedSearch);\n    setCitations(response);\n  };\n\n  const renderedCitations = citations ? (\n    citations.map((citation) => {\n      return (\n        <div key={citation.title} className=\"item\">\n          <div className=\"right floated content\">\n            <div\n              className=\"ui vertical animated button\"\n              tabIndex=\"0\"\n              onClick={copyToClipboard}\n            >\n              <div className=\"hidden content\">Copy</div>\n              <div className=\"visible content\">\n                <i className=\"copy icon\"></i>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"content\">\n            <div className=\"header\">{citation.title}</div>\n          </div>\n          <form className=\"ui form\">\n            <input\n              ref={inputRef}\n              value={citation.snippet}\n              readOnly\n              style={{ maxWidth: \"70%\" }}\n            />\n          </form>\n        </div>\n      );\n    })\n  ) : (\n    <h3>Loading...</h3>\n  );\n\n  const renderedSearches = props.searches.map((search) => {\n    const active = search.result_id === selectedSearch ? \"active\" : \"\";\n\n    return (\n      <React.Fragment key={search.result_id}>\n        <div\n          className={`title ${active}`}\n          onClick={() => onTitleClick(search.result_id)} // arrow function necessary\n        >\n          <i className=\"dropdown icon\"></i>\n          <h3>{search.title}</h3>\n          <p>\n            <a href={search.link} target=\"blank\">\n              {search.snippet}\n            </a>\n          </p>\n        </div>\n        <div className={`content ${active}`}>\n          <h4>Citations</h4>\n          <div className=\"ui middle aligned divided list\">\n            {renderedCitations}\n          </div>\n          <hr />\n          <p>Type: {search.type}</p>\n          <p>Publication Info: {search.publication_info.summary}</p>\n          <p>\n            Author(s):{\" \"}\n            {search.publication_info.authors\n              ? search.publication_info.authors.map((author) => author.name)\n              : null}\n          </p>\n        </div>\n      </React.Fragment>\n    );\n  });\n\n  return <div className=\"ui styled fluid accordion\">{renderedSearches}</div>;\n};\n\nexport default Accordion;\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://cors-anywhere.herokuapp.com/https://serpapi.com/\",\n});\n","import React from \"react\";\n\nimport Accordion from \"./Accordion\";\nimport serp from \"../api/serp\";\n\nconst KEY = \"114815a4f5169d815ce522585ba6bbee133edc39e6348c97413cca21ac47f483\";\n\nclass Search extends React.Component {\n  state = {\n    value: \"Rubik's Cube\",\n    searches: [],\n  };\n\n  componentDidMount() {\n    this.onFormSubmit(new Event(\"submit\"));\n  }\n\n  onFormSubmit = async (event) => {\n    event.preventDefault();\n\n    this.setState({ searches: null });\n\n    const sch_response = await serp.get(\"/search\", {\n      params: {\n        engine: \"google_scholar\",\n        q: this.state.value,\n        hl: \"en\",\n        api_key: KEY,\n      },\n    });\n\n    this.setState({ searches: sch_response.data.organic_results });\n  };\n\n  getCitations = async (value) => {\n    const cit_response = await serp.get(\"/search\", {\n      params: {\n        engine: \"google_scholar_cite\",\n        q: value,\n        hl: \"en\",\n        api_key: KEY,\n      },\n    });\n\n    return cit_response.data.citations;\n  };\n\n  renderResults() {\n    if (!this.state.searches) return <h2>Loading...</h2>;\n\n    return (\n      <Accordion\n        searches={this.state.searches}\n        getCitations={this.getCitations}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <form\n          ref={this.formRef}\n          className=\"ui form\"\n          onSubmit={this.onFormSubmit}\n        >\n          <div className=\"field\">\n            <label>Search citations</label>\n            <div className=\"ui icon input\">\n              <input\n                type=\"text\"\n                value={this.state.value}\n                placeholder=\"Example: Functional Programming\"\n                onChange={(e) => this.setState({ value: e.target.value })}\n              />\n              <i className=\"search icon\" />\n            </div>\n          </div>\n        </form>\n        {this.renderResults()}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React from \"react\";\n\nclass List extends React.Component {\n  render() {\n    return (\n      <div className=\"ui divided list\">\n        <div className=\"item\">\n          <div className=\"content\">\n            <div className=\"header\">Result 1</div>\n            Citations\n          </div>\n        </div>\n        <div className=\"item\">\n          <div className=\"content\">\n            <div className=\"header\">Result 2</div>\n            Citations\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default List;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n// const scholarLogo = require(\"../static/scholar-logo.png\");\nconst appLogo = require(\"../static/logo512.png\");\n\nconst Menu = () => {\n  return (\n    <React.Fragment>\n      {/* <img\n        src={appLogo}\n        style={{ width: \"100%\", height: \"auto\" }}\n        alt=\"Citation Grab logo\"\n      /> */}\n      <div className=\"ui fluid two item stackable labeled icon inverted menu\">\n        <Link to=\"/citation-grab/\" className=\"item\">\n          <img\n            style={{ width: \"30px\", height: \"auto\", paddingBottom: \"10px\" }}\n            src={appLogo}\n            alt=\"homepage\"\n          />\n          Search\n        </Link>\n        <Link to=\"/citation-grab/list\" className=\"item\">\n          <i className=\"list icon\" />\n          List\n        </Link>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Search from \"./Search\";\nimport List from \"./List\";\nimport Menu from \"./Menu\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div className=\"ui container\">\n        <BrowserRouter>\n          <Menu />\n          <Route path=\"/citation-grab/\" exact component={Search} />\n          <Route path=\"/citation-grab/list\" exact component={List} />\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}